"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[607],{4607:function(e,t,s){s.r(t),s.d(t,{default:function(){return c}});s(4114);var r=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{height:"100vh",width:"100%",display:"flex","justify-content":"center","align-items":"center","background-color":"#b2b2e3"}},[t("div",{staticStyle:{display:"flex","background-color":"white",width:"65%","border-radius":"5px",overflow:"hidden"}},[e._m(0),t("div",{staticStyle:{flex:"1",display:"flex","align-items":"center","justify-content":"center"}},[t("el-form",{ref:"forgotRef",staticStyle:{width:"80%"},attrs:{model:e.form,rules:e.rules}},[t("div",{staticStyle:{"font-size":"20px","font-weight":"bold","text-align":"center","margin-bottom":"20px"}},[e._v("找回密码")]),t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-user",size:"medium",placeholder:"请输入账号"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),t("el-form-item",{staticStyle:{"margin-bottom":"10px"},attrs:{prop:"code"}},[t("div",{staticStyle:{display:"flex"}},[t("el-input",{staticStyle:{flex:"2"},attrs:{"prefix-icon":"el-icon-message",placeholder:"请输入验证码"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}}),t("el-button",{staticStyle:{flex:"1","margin-left":"10px"},attrs:{type:"primary",disabled:e.codeDisabled},on:{click:e.sendCode}},[e._v(" "+e._s(e.codeBtnText)+" ")])],1)]),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-lock",size:"medium","show-password":"",placeholder:"请输入新密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),t("el-form-item",{attrs:{prop:"confirmPass"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-lock",size:"medium","show-password":"",placeholder:"请确认新密码"},model:{value:e.form.confirmPass,callback:function(t){e.$set(e.form,"confirmPass",t)},expression:"form.confirmPass"}})],1),t("el-form-item",[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")])],1),t("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[t("el-button",{staticStyle:{color:"#409EFF",cursor:"pointer"},on:{click:function(t){return e.$router.push("/login")}}},[e._v("返回登录")])],1)],1)],1)])])},o=[function(){var e=this,t=e._self._c;return t("div",{staticStyle:{flex:"1"}},[t("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:s(4767),alt:""}})])}],i={name:"ForgotPassword",data(){const e=(e,t,s)=>{""===t?s(new Error("请确认密码")):t!==this.form.password?s(new Error("两次输入的密码不一致")):s()};return{form:{username:"",code:"",password:"",confirmPass:""},codeDisabled:!1,codeBtnText:"获取验证码",countdown:60,rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"},{min:6,max:6,message:"验证码为6位",trigger:"blur"}],password:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,message:"密码长度不能小于6位",trigger:"blur"}],confirmPass:[{validator:e,trigger:"blur"}]}}},methods:{sendCode(){this.form.username?this.$request.post("/sendCode",{username:this.form.username}).then((e=>{"200"===e.code?(this.startCountdown(),this.$message.success("验证码已发送")):this.$message.error(e.msg)})):this.$message.warning("请输入账号")},startCountdown(){this.codeDisabled=!0;const e=setInterval((()=>{this.countdown--,this.codeBtnText=`${this.countdown}秒后重发`,this.countdown<=0&&(clearInterval(e),this.codeBtnText="获取验证码",this.codeDisabled=!1,this.countdown=60)}),1e3)},submit(){this.$refs["forgotRef"].validate((e=>{e&&this.$request.post("/forget",this.form).then((e=>{"200"===e.code?(this.$message.success("密码重置成功"),this.$router.push("/login")):this.$message.error(e.msg)}))}))}}},n=i,a=s(1656),l=(0,a.A)(n,r,o,!1,null,"5c479ef0",null),c=l.exports},4767:function(e,t,s){e.exports=s.p+"img/register.7b66ec6a.jpg"}}]);
//# sourceMappingURL=607.288256b5.js.map